'use strict';const _0x2ee142=_0x3d4a;(function(_0x45433c,_0x231ed7){const _0x58b935=_0x3d4a,_0x104e63=_0x45433c();while(!![]){try{const _0x257436=-parseInt(_0x58b935(0xf1))/(0x16e+0x16ad+-0x181a)+parseInt(_0x58b935(0xc8))/(0x654+0x1806+-0x1e58)+parseInt(_0x58b935(0xfc))/(0xb*-0x13e+-0x633*-0x5+-0x1152)+-parseInt(_0x58b935(0xfa))/(-0x10d*0xb+-0x5cf*0x2+0x1731)*(parseInt(_0x58b935(0xca))/(-0xb0c+-0x114a+-0x3d*-0x77))+-parseInt(_0x58b935(0xd9))/(0x17*0xd9+-0x221*-0x4+-0x1bfd)*(parseInt(_0x58b935(0xf0))/(0x23a9+-0x23*0xce+0xef*-0x8))+-parseInt(_0x58b935(0xfe))/(0x2553+-0x1*-0x1576+0xa9*-0x59)+parseInt(_0x58b935(0xf9))/(-0x107e*-0x1+-0x1*0x1c13+0x5cf*0x2);if(_0x257436===_0x231ed7)break;else _0x104e63['push'](_0x104e63['shift']());}catch(_0x3c41f9){_0x104e63['push'](_0x104e63['shift']());}}}(_0x5059,0x2bd*0x6b+0xeb08*0x1+0xd27));async function loadBlockchainProductIds(){const _0x52e209=_0x3d4a,_0x5d807f={};_0x5d807f['tdUzC']=_0x52e209(0xf8),_0x5d807f[_0x52e209(0xfb)]='productId';const _0x27df7c=_0x5d807f;if(!blockchainProductIdsLoaded)try{const _0x5ab5b6={};_0x5ab5b6[_0x52e209(0xe8)]=[_0x27df7c['tdUzC'],_0x27df7c[_0x52e209(0xfb)]];const _0x3fb5f0=await db_1['models'][_0x52e209(0xdc)+'lockchain']['findAll'](_0x5ab5b6);for(const _0x388476 of _0x3fb5f0)_0x388476['productId']&&_0x388476['chain']&&blockchainProductIdCache['set'](_0x388476['chain'][_0x52e209(0xce)+'e'](),_0x388476[_0x52e209(0xc0)]);blockchainProductIdsLoaded=!(-0x6d3*0x5+-0x1d65*0x1+0x6*0xa96);}catch(_0x4a40cd){}}async function getBlockchainProductId(_0x51466b){const _0x401eb5=_0x3d4a,_0x42e475={'FaVey':function(_0x3fda41){return _0x3fda41();}};return await _0x42e475['FaVey'](loadBlockchainProductIds),blockchainProductIdCache['get'](_0x51466b[_0x401eb5(0xce)+'e']())||null;}async function checkLicenseFile(_0x123ebd){const _0x30ac21=_0x3d4a,_0x3be5a9={};_0x3be5a9[_0x30ac21(0xe6)]=_0x30ac21(0xed);const _0x53b68f=_0x3be5a9,_0x3b0b05=process[_0x30ac21(0xe9)](),_0x365715=_0x3b0b05[_0x30ac21(0xcb)]('backend')||_0x3b0b05[_0x30ac21(0xcb)](_0x30ac21(0xdd))||_0x3b0b05[_0x30ac21(0xcb)](_0x53b68f['xNWgB'])?path_1[_0x30ac21(0xc7)][_0x30ac21(0xcf)](_0x3b0b05):_0x3b0b05,_0x1a5b22=path_1[_0x30ac21(0xc7)][_0x30ac21(0xc2)](_0x365715,_0x30ac21(0xc6),_0x123ebd+'.lic');try{return await fs_1[_0x30ac21(0xbe)][_0x30ac21(0xcc)](_0x1a5b22),!(-0x1d15*-0x1+-0xa73+0x1e*-0x9f);}catch(_0x22d456){return!(0x2*-0x481+-0x1*-0xadb+0x1*-0x1d8);}}async function isBlockchainLicenseValid(_0x3cc1b5){const _0x37897d=_0x3d4a,_0x195ad4={};_0x195ad4['GfQVV']=function(_0x4c1185,_0xb67363){return _0x4c1185-_0xb67363;};const _0x4df098=_0x195ad4,_0x1a8f16=_0x37897d(0xf5)+':'+_0x3cc1b5['toUpperCas'+'e'](),_0x1d1013=blockchainLicenseCache[_0x37897d(0xbf)](_0x1a8f16);if(_0x1d1013&&_0x4df098['GfQVV'](Date['now'](),_0x1d1013['timestamp'])<LICENSE_CACHE_TTL)return _0x1d1013[_0x37897d(0xd4)];const _0x3002a5=await getBlockchainProductId(_0x3cc1b5);if(!_0x3002a5)return!(-0x14c6+0x16d*-0x15+0x32b8);const _0x2006ae=await checkLicenseFile(_0x3002a5);return blockchainLicenseCache[_0x37897d(0xda)](_0x1a8f16,{'valid':_0x2006ae,'timestamp':Date[_0x37897d(0xe0)]()}),_0x2006ae;}async function isBlockchainEnabled(_0x1a3107){const _0x5c9863=_0x3d4a,_0x16cab3={};_0x16cab3['pmpqX']=function(_0xaeee8d,_0x25f383){return _0xaeee8d!==_0x25f383;},_0x16cab3['DLdFW']=_0x5c9863(0xe5),_0x16cab3['vhidU']=function(_0x2265e5,_0x2c5cc4){return _0x2265e5==_0x2c5cc4;};const _0x299f2d=_0x16cab3;try{if(_0x299f2d[_0x5c9863(0xe4)](_0x299f2d['DLdFW'],_0x5c9863(0xfd))){const _0x409f85=await getBlockchainProductId(_0x1a3107);if(!_0x409f85)return!(-0x65*0x2a+-0x177b+0x6*0x6ad);const _0x4b49a0={};_0x4b49a0['productId']=_0x409f85;const _0x148716={};_0x148716[_0x5c9863(0xec)]=_0x4b49a0;const _0x15d1b6=await db_1['models'][_0x5c9863(0xdc)+_0x5c9863(0xe1)][_0x5c9863(0xf4)](_0x148716);return!(0x2474+-0x929*0x1+-0x919*0x3)===(_0x299f2d['vhidU'](null,_0x15d1b6)?void(0x1589+-0x5*0x18e+-0xdc3):_0x15d1b6[_0x5c9863(0xdf)]);}else return!(-0x1979+0x749+0x1231);}catch(_0x1ba98b){return!(0x18cf+-0x7*-0x43+-0x8e1*0x3);}}async function isBlockchainActive(_0x98478b){const _0x3c4f80=_0x3d4a,_0x1cffe4={'FAVQn':function(_0x14d449,_0x1b5b2f){return _0x14d449(_0x1b5b2f);}};try{const _0x1c29d3=await _0x1cffe4[_0x3c4f80(0xf6)](getBlockchainProductId,_0x98478b),_0x5022e8={};_0x5022e8[_0x3c4f80(0xd1)]=!(0x2437+-0xe2d*-0x1+-0x3263),_0x5022e8[_0x3c4f80(0xdb)]=_0x3c4f80(0xee)+'\x20'+_0x98478b+(_0x3c4f80(0xc1)+_0x3c4f80(0xde)+'se');if(!_0x1c29d3)return _0x5022e8;if(!await checkLicenseFile(_0x1c29d3))return{'active':!(0x3*-0x3fb+0x5cf*-0x4+0x232e),'reason':_0x3c4f80(0xc4)+_0x3c4f80(0xe3)+'nd\x20for\x20'+_0x98478b+'\x20('+_0x1c29d3+'.lic)','productId':_0x1c29d3};const _0x36b1a4={};_0x36b1a4['productId']=_0x1c29d3;const _0x2646b5={};_0x2646b5['where']=_0x36b1a4;const _0x581d6e=await db_1['models'][_0x3c4f80(0xdc)+_0x3c4f80(0xe1)]['findOne'](_0x2646b5),_0x13f395={};_0x13f395[_0x3c4f80(0xd1)]=!(-0x2f*0xc6+-0x19c6+0x3e20),_0x13f395['productId']=_0x1c29d3;const _0x5d028a={};_0x5d028a['active']=!(-0xd7b+0x7*-0x452+0x1*0x2bba),_0x5d028a['reason']='Blockchain'+'\x20'+_0x98478b+(_0x3c4f80(0xd5)+'ed'),_0x5d028a['productId']=_0x1c29d3;const _0x96b8b8={};return _0x96b8b8[_0x3c4f80(0xd1)]=!(0x1529*0x1+-0x1*-0xf65+-0x248d),_0x96b8b8[_0x3c4f80(0xdb)]='Blockchain'+'\x20'+_0x98478b+('\x20not\x20found'+_0x3c4f80(0xde)+'se'),_0x96b8b8[_0x3c4f80(0xc0)]=_0x1c29d3,_0x581d6e?_0x581d6e['status']?_0x13f395:_0x5d028a:_0x96b8b8;}catch(_0x241583){const _0x218324={};return _0x218324[_0x3c4f80(0xd1)]=!(0x9e*-0x17+-0x7ac*0x1+-0x15df*-0x1),_0x218324['reason']=_0x3c4f80(0xd6)+'king\x20statu'+_0x3c4f80(0xf3)+_0x241583[_0x3c4f80(0xff)],_0x218324;}}function clearBlockchainLicenseCache(_0x5298be){const _0x50ea6b=_0x3d4a;_0x5298be?blockchainLicenseCache[_0x50ea6b(0xea)](_0x50ea6b(0xf5)+':'+_0x5298be['toUpperCas'+'e']()):blockchainLicenseCache[_0x50ea6b(0xd3)]();}function reloadBlockchainProductIds(){blockchainProductIdsLoaded=!(-0x3ec+-0xbd2+0xfbf),blockchainProductIdCache['clear']();}var __importDefault=this&&this[_0x2ee142(0xf2)+'fault']||function(_0xa1afff){return _0xa1afff&&_0xa1afff['__esModule']?_0xa1afff:{'default':_0xa1afff};};function _0x3d4a(_0x9f137d,_0x4ac99b){_0x9f137d=_0x9f137d-(0xf*-0x91+0x7d7*-0x1+0x1114);const _0x478783=_0x5059();let _0x333397=_0x478783[_0x9f137d];if(_0x3d4a['WLiMzi']===undefined){var _0x33e762=function(_0x38ea2e){const _0x612a4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x576d44='',_0x8af134='';for(let _0x2cdb0c=0x4e9*-0x3+-0x1cf9+0x2bb4,_0x3dcfee,_0x460f19,_0x355b33=0xb*-0x1d5+-0x8b3+-0x4cf*-0x6;_0x460f19=_0x38ea2e['charAt'](_0x355b33++);~_0x460f19&&(_0x3dcfee=_0x2cdb0c%(-0x205a+0x21b2+-0x154)?_0x3dcfee*(0xe*0x2b3+-0x24a*0x1+-0x2340)+_0x460f19:_0x460f19,_0x2cdb0c++%(0x2*-0x4ae+0x6fb*0x5+0x1987*-0x1))?_0x576d44+=String['fromCharCode'](-0x1ef9+-0x175c+0xdd5*0x4&_0x3dcfee>>(-(0x4d*0x2f+-0x3f*-0x67+-0x277a)*_0x2cdb0c&0x9d*-0x27+0x25a9+-0xdb8*0x1)):0x1382+0xa4*-0x2b+-0x157*-0x6){_0x460f19=_0x612a4['indexOf'](_0x460f19);}for(let _0xeba274=0x1da8+-0x1974+-0x4*0x10d,_0x4b386f=_0x576d44['length'];_0xeba274<_0x4b386f;_0xeba274++){_0x8af134+='%'+('00'+_0x576d44['charCodeAt'](_0xeba274)['toString'](0x1b8c+-0x1*0x999+-0xf1*0x13))['slice'](-(-0x6aa+-0x43*0x5f+0x1f89));}return decodeURIComponent(_0x8af134);};_0x3d4a['kCefUM']=_0x33e762,_0x3d4a['aPbUbz']={},_0x3d4a['WLiMzi']=!![];}const _0x2dcbfd=_0x478783[0x13*0x37+-0x135c+0xf47],_0x1c1134=_0x9f137d+_0x2dcbfd,_0x1fbef9=_0x3d4a['aPbUbz'][_0x1c1134];return!_0x1fbef9?(_0x333397=_0x3d4a['kCefUM'](_0x333397),_0x3d4a['aPbUbz'][_0x1c1134]=_0x333397):_0x333397=_0x1fbef9,_0x333397;}const _0xb0208a={};_0xb0208a[_0x2ee142(0xc5)]=!(0x623*-0x2+0x1922+-0xcdc),Object['defineProp'+'erty'](exports,_0x2ee142(0xeb),_0xb0208a),exports['getBlockch'+_0x2ee142(0xd7)+'Id']=getBlockchainProductId,exports[_0x2ee142(0xd8)+_0x2ee142(0xd2)]=checkLicenseFile,exports[_0x2ee142(0xd0)+_0x2ee142(0xe7)+_0x2ee142(0xc9)]=isBlockchainLicenseValid,exports[_0x2ee142(0xd0)+'inEnabled']=isBlockchainEnabled,exports['isBlockcha'+_0x2ee142(0xef)]=isBlockchainActive,exports['clearBlock'+_0x2ee142(0xe2)+_0x2ee142(0xc3)]=clearBlockchainLicenseCache,exports['reloadBloc'+'kchainProd'+_0x2ee142(0xcd)]=reloadBlockchainProductIds;const db_1=require('@b/db'),path_1=__importDefault(require(_0x2ee142(0xf7))),fs_1=require('fs'),blockchainProductIdCache=new Map();let blockchainProductIdsLoaded=!(0x95*-0x30+0x138b*-0x1+0x2f7c);function _0x5059(){const _0x5a8b27=['zwnVC3LZDgvTqG','yMfJA2vUzc8','igLUigrHDgfIyq','C3rHDhvZ','BM93','Bg9JA2nOywLU','y2HHAw5mAwnLBG','BguGBM90igzVDq','Cg1WCvG','vLbkuuq','Ee5xz0i','Aw5mAwnLBNnLvG','yxr0CMLIDxrLCW','y3DK','zgvSzxrL','x19LC01VzhvSzq','D2HLCMu','yMfJA2vUzfW','qMXVy2TJAgfPBG','Aw5by3rPDMu','mta3nJz1rgHiA2q','mtKZmJa2DejjwgvP','x19PBxbVCNrezq','CZOG','zMLUze9Uzq','yMXVy2TJAgfPBG','rKfwuw4','Cgf0Aa','y2HHAw4','ntG0mda5mxnJvMLmqG','nZiXnJeYy2Ptz2nu','AMvbChe','ntq0mtC2zvLiAeXb','uePVBwS','mJaYnJyWmhr6v0nQzq','BwvZC2fNzq','ChjVBwLZzxm','z2v0','ChjVzhvJDeLK','ig5VDcbMB3vUza','AM9PBG','C2vdywnOzq','tgLJzw5ZzsbMAq','DMfSDwu','BgLJ','zgvMyxvSDa','mtu2ndm4DgvYA2f0','ywXPza','nuzJuLbUAa','zw5KC1DPDgG','ywnJzxnZ','Dwn0swrZ','Dg9vChbLCKnHCW','zgLYBMfTzq','AxncBg9JA2nOyq','ywn0AxzL','C2vgAwXL','y2XLyxi','DMfSAwq','igLZigrPC2fIBa','rxjYB3iGy2HLyW','ywLUuhjVzhvJDa','y2HLy2TmAwnLBG','ntu4z1r2vNPe','C2v0','CMvHC29U'];_0x5059=function(){return _0x5a8b27;};return _0x5059();}const blockchainLicenseCache=new Map(),LICENSE_CACHE_TTL=-0x732d3+0x71fd7+0x4a6dc;