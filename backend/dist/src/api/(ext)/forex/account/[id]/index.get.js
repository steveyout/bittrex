"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error"),query_1=require("@b/utils/query"),utils_1=require("../utils");exports.metadata={summary:"Retrieves a specific Forex account by ID",description:"Fetches a specific Forex account by its ID for the currently authenticated user.",operationId:"getForexAccountById",tags:["Forex","Accounts"],logModule:"FOREX",logTitle:"Get Forex Account",requiresAuth:!0,parameters:[{index:0,name:"id",in:"path",required:!0,schema:{type:"string",description:"Account ID"}}],responses:{200:{description:"Forex account retrieved successfully",content:{"application/json":{schema:{type:"object",properties:utils_1.baseForexAccountSchema}}}},401:query_1.unauthorizedResponse,404:(0,query_1.notFoundMetadataResponse)("Forex Account"),500:query_1.serverErrorResponse}};exports.default=async e=>{const{user:r,params:t,ctx:o}=e;null==o||o.step("Fetching Forex Account");if(!(null==r?void 0:r.id))throw(0,error_1.createError)({statusCode:401,message:"Unauthorized"});const s=await db_1.models.forexAccount.findOne({where:{id:t.id,userId:r.id}});if(!s)throw(0,error_1.createError)({statusCode:404,message:"Forex account not found"});null==o||o.success("Get Forex Account fetched successfully");return s};