"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error");exports.metadata={summary:"Get Launch Plans",description:"Retrieves all launch plans for ICO admin.",operationId:"getLaunchPlans",tags:["ICO","Admin","LaunchPlans"],logModule:"ICO",logTitle:"Get launch plans",requiresAuth:!0,responses:{200:{description:"Launch plans retrieved successfully.",content:{"application/json":{schema:{type:"array",items:{type:"object"}}}}},401:{description:"Unauthorized â€“ Admin privileges required."},500:{description:"Internal Server Error"}}};exports.default=async e=>{const{user:r,ctx:t}=e;if(!(null==r?void 0:r.id))throw(0,error_1.createError)({statusCode:401,message:"Unauthorized"});null==t||t.step("Fetching launch plans");const s=await db_1.models.icoLaunchPlan.findAll({order:[["sortOrder","ASC"]]});null==t||t.success(`Retrieved ${s.length} launch plans`);return s};