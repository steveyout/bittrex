"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error");exports.metadata={summary:"Get Team Members for ICO Offering",description:"Retrieves team members for the ICO offering for the authenticated creator.",operationId:"getCreatorTokenTeam",tags:["ICO","Creator","Team"],logModule:"ICO",logTitle:"Get Token Team",requiresAuth:!0,parameters:[{index:0,name:"id",in:"path",description:"ICO offering ID",required:!0,schema:{type:"string"}}],responses:{200:{description:"Team members retrieved successfully."},401:{description:"Unauthorized"},404:{description:"Team members not found"},500:{description:"Internal Server Error"}}};exports.default=async e=>{const{user:r,params:t,ctx:o}=e;if(!(null==r?void 0:r.id))throw(0,error_1.createError)({statusCode:401,message:"Unauthorized"});null==o||o.step("Fetching token team");const{id:s}=t;if(!s)throw(0,error_1.createError)({statusCode:400,message:"No offering ID provided"});const a=await db_1.models.icoTeamMember.findAll({where:{offeringId:s}});if(!a)throw(0,error_1.createError)({statusCode:404,message:"Team members not found"});null==o||o.success("Token team retrieved successfully");return a.map(e=>e.toJSON())};