"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error"),query_1=require("@b/utils/query"),utils_1=require("../utils");exports.metadata={summary:"Retrieves a specific ecosystem market",description:"Fetches details of a specific market in the ecosystem.",operationId:"getEcosystemMarket",tags:["Ecosystem","Markets"],logModule:"ECOSYSTEM",logTitle:"Get ecosystem market details",parameters:[{name:"id",in:"path",required:!0,schema:{type:"number",description:"Market ID"}}],responses:{200:{description:"Market details retrieved successfully",content:{"application/json":{schema:{type:"object",properties:utils_1.baseMarketSchema}}}},401:query_1.unauthorizedResponse,404:(0,query_1.notFoundMetadataResponse)("Market"),500:query_1.serverErrorResponse}};exports.default=async e=>{const{params:t,ctx:r}=e,{id:s}=t;null==r||r.step(`Fetching market with ID ${s}`);const a=await db_1.models.ecosystemMarket.findOne({where:{id:s},attributes:["id","name","status"]});if(!a){null==r||r.fail(`Market ${s} not found`);throw(0,error_1.createError)({statusCode:404,message:"Market not found"})}null==r||r.success(`Retrieved market ${s}`);return a};