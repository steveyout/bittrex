"use strict";async function estimateGas(e,t,r=1.2){try{const a=await t.estimateGas(e);return a*BigInt(Math.round(10*r))/BigInt(10)}catch(e){console_1.logger.error("ECOSYSTEM","Failed to estimate gas for transaction",e);e.data&&console_1.logger.error("GAS","Revert reason",{reason:e.data.reason,data:e.data});throw(0,error_1.createError)({statusCode:500,message:"Failed to estimate gas"})}}async function getAdjustedGasPrice(e,t=1.2){var r;try{const a=null!==(r=(await e.getFeeData()).gasPrice)&&void 0!==r?r:BigInt(0);return a*BigInt(Math.round(10*t))/BigInt(10)}catch(e){console_1.logger.error("ECOSYSTEM","Failed to adjust gas price",e);throw(0,error_1.createError)({statusCode:500,message:"Failed to adjust gas price"})}}Object.defineProperty(exports,"__esModule",{value:!0});exports.estimateGas=estimateGas;exports.getAdjustedGasPrice=getAdjustedGasPrice;const console_1=require("@b/utils/console"),error_1=require("@b/utils/error");