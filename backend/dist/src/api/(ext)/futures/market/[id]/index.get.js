"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error"),query_1=require("@b/utils/query"),utils_1=require("../utils");exports.metadata={summary:"Retrieves a specific futures market",description:"Fetches details of a specific futures market.",operationId:"getFuturesMarket",tags:["Futures","Markets"],logModule:"FUTURES",logTitle:"Get futures market by ID",parameters:[{name:"id",in:"path",required:!0,schema:{type:"string",description:"Futures Market ID"}}],responses:{200:{description:"Futures market details retrieved successfully",content:{"application/json":{schema:{type:"object",properties:utils_1.baseFuturesMarketSchema}}}},401:query_1.unauthorizedResponse,404:(0,query_1.notFoundMetadataResponse)("Futures Market"),500:query_1.serverErrorResponse}};exports.default=async e=>{var r,t,s;const{params:u,ctx:a}=e,{id:i}=u;null===(r=null==a?void 0:a.step)||void 0===r||r.call(a,`Fetching futures market with ID: ${i}`);const o=await db_1.models.futuresMarket.findOne({where:{id:i},attributes:["id","currency","pair","status"]});if(!o){null===(t=null==a?void 0:a.fail)||void 0===t||t.call(a,"Futures market not found");throw(0,error_1.createError)({statusCode:404,message:"Futures market not found"})}null===(s=null==a?void 0:a.success)||void 0===s||s.call(a,`Retrieved futures market: ${o.currency}/${o.pair}`);return o};