"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const redis_1=require("@b/utils/redis"),query_1=require("@b/utils/query"),matchingEngine_1=require("@b/api/(ext)/futures/utils/matchingEngine"),utils_1=require("../order/utils"),redis=redis_1.RedisSingleton.getInstance();exports.metadata={summary:"Get All Market Tickers",operationId:"getAllMarketTickers",tags:["Exchange","Markets"],logModule:"FUTURES",logTitle:"Get all futures market tickers",description:"Retrieves ticker information for all available market pairs.",responses:{200:{description:"All market tickers information",content:{"application/json":{schema:{type:"object",properties:utils_1.baseTickerSchema}}}},401:query_1.unauthorizedResponse,404:(0,query_1.notFoundMetadataResponse)("Ticker"),500:query_1.serverErrorResponse}};exports.default=async e=>{var t,i,r;const{ctx:s}=e;null===(t=null==s?void 0:s.step)||void 0===t||t.call(s,"Initializing futures matching engine");const n=await matchingEngine_1.FuturesMatchingEngine.getInstance();null===(i=null==s?void 0:s.step)||void 0===i||i.call(s,"Fetching all futures market tickers");const a=await n.getTickers();null===(r=null==s?void 0:s.success)||void 0===r||r.call(s,`Retrieved ${Object.keys(a||{}).length} tickers`);return a};