"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),errors_1=require("@b/utils/schema/errors"),utils_1=require("../utils");exports.metadata={summary:"Update a Mailwizard campaign",operationId:"updateMailwizardCampaign",tags:["Admin","Mailwizard","Campaigns"],description:"Updates the configuration of a specific Mailwizard campaign including name, subject, status, speed, targets, and template. All fields are optional and only provided fields will be updated.",parameters:[{name:"id",in:"path",description:"ID of the Mailwizard Campaign to update",required:!0,schema:{type:"string"}}],requestBody:{description:"New data for the Mailwizard Campaign",content:{"application/json":{schema:utils_1.mailwizardCampaignUpdateSchema}}},responses:(0,errors_1.updateResponses)("Mailwizard Campaign"),requiresAuth:!0,permission:"edit.mailwizard.campaign",logModule:"ADMIN_MAIL",logTitle:"Update campaign"};exports.default=async a=>{const{body:e,params:t,ctx:i}=a,{id:s}=t,{name:r,subject:d,status:p,speed:n,targets:l,templateId:u}=e;null==i||i.step("Updating campaign");const o=await(0,query_1.updateRecord)("mailwizardCampaign",s,{name:r,subject:d,status:p,speed:n,targets:l,templateId:u});null==i||i.success("Campaign updated successfully");return o};