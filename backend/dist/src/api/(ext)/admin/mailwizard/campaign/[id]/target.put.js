"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Update campaign targets",operationId:"updateMailwizardCampaignTargets",tags:["Admin","Mailwizard","Campaigns"],description:"Updates the email target list for a specific Mailwizard campaign. Targets should be provided as a JSON string containing an array of email recipient objects with their delivery status.",parameters:[{name:"id",in:"path",description:"ID of the Mailwizard Campaign to update",required:!0,schema:{type:"string"}}],requestBody:{description:"New data for the Mailwizard Campaign",content:{"application/json":{schema:{type:"object",properties:{targets:{type:"string",description:"Email targets for the campaign"}}}}}},responses:(0,errors_1.updateResponses)("Mailwizard Campaign"),requiresAuth:!0,permission:"edit.mailwizard.campaign",logModule:"ADMIN_MAIL",logTitle:"Update campaign targets"};exports.default=async a=>{const{body:e,params:t,ctx:i}=a,{id:r}=t,{targets:s}=e;null==i||i.step("Updating campaign targets");const p=await(0,query_1.updateRecord)("mailwizardCampaign",r,{targets:s});null==i||i.success("Campaign targets updated successfully");return p};