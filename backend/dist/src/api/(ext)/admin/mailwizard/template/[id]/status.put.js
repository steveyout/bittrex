"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Update template status",operationId:"updateMailwizardTemplateStatus",tags:["Admin","Mailwizard","Templates"],description:"Updates the status of a specific Mailwizard template. Valid statuses: ACTIVE, INACTIVE, ARCHIVED. Changing status to INACTIVE or ARCHIVED may affect campaigns using this template.",parameters:[{index:0,name:"id",in:"path",required:!0,description:"ID of the Mailwizard Template to update",schema:{type:"string"}}],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{status:{type:"string",enum:["ACTIVE","INACTIVE","ARCHIVED"],description:"New status to apply to the Mailwizard Template"}},required:["status"]}}}},responses:(0,errors_1.statusUpdateResponses)("Mailwizard Template"),requiresAuth:!0,permission:"edit.mailwizard.template",logModule:"ADMIN_MAIL",logTitle:"Update template status"};exports.default=async t=>{const{body:e,params:a,ctx:s}=t,{id:i}=a,{status:r}=e;null==s||s.step(`Updating template status to ${r}`);const p=await(0,query_1.updateStatus)("mailwizardTemplate",i,r);null==s||s.success("Template status updated successfully");return p};