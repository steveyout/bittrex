"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Update affiliate reward claimed status",operationId:"updateAffiliateRewardStatus",tags:["Admin","Affiliate","Reward"],description:"Updates the claimed status for a specific affiliate referral reward. Use this to mark a reward as claimed or unclaimed.",parameters:[{index:0,name:"id",in:"path",required:!0,description:"ID of the affiliate reward to update",schema:{type:"string"}}],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"New claimed status to apply (true for claimed, false for unclaimed)"}},required:["status"]}}}},responses:{200:{description:"Affiliate reward claimed status updated successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Success message"}}}}}},400:errors_1.badRequestResponse,401:errors_1.unauthorizedResponse,404:(0,errors_1.notFoundResponse)("Affiliate Reward"),500:errors_1.serverErrorResponse},requiresAuth:!0,permission:"edit.affiliate.reward",logModule:"ADMIN_AFFILIATE",logTitle:"Update affiliate reward claimed status"};exports.default=async e=>{const{body:r,params:t,ctx:a}=e,{id:s}=t,{status:i}=r,d=i;null==a||a.step(`Updating claimed status for reward ID: ${s}`);const o=(0,query_1.updateStatus)("mlmReferralReward",s,d,void 0,"Referral Reward");null==a||a.success("Reward claimed status updated successfully");return o};