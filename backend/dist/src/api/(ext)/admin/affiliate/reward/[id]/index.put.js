"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),utils_1=require("../utils"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Update a specific affiliate reward",operationId:"updateAffiliateReward",tags:["Admin","Affiliate","Reward"],description:"Updates the reward amount and claimed status for a specific affiliate referral reward.",parameters:[{name:"id",in:"path",description:"ID of the affiliate reward to update",required:!0,schema:{type:"string"}}],requestBody:{required:!0,description:"Updated reward data",content:{"application/json":{schema:utils_1.mlmReferralRewardUpdateSchema}}},responses:{200:{description:"Affiliate reward updated successfully",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Success message"}}}}}},400:errors_1.badRequestResponse,401:errors_1.unauthorizedResponse,404:(0,errors_1.notFoundResponse)("Affiliate Reward"),500:errors_1.serverErrorResponse},requiresAuth:!0,permission:"edit.affiliate.reward",logModule:"ADMIN_AFFILIATE",logTitle:"Update affiliate reward"};exports.default=async e=>{const{body:r,params:a,ctx:t}=e,{id:s}=a;null==t||t.step("Validating update data");const i={reward:r.reward,isClaimed:r.isClaimed};null==t||t.step(`Updating reward with ID: ${s}`);const d=await(0,query_1.updateRecord)("mlmReferralReward",s,i);null==t||t.success("Reward updated successfully");return d};