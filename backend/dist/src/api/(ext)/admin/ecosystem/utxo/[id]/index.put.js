"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),utils_1=require("../utils");exports.metadata={summary:"Update ecosystem UTXO",operationId:"updateEcosystemUtxo",tags:["Admin","Ecosystem","UTXO"],description:"Updates a specific ecosystem Unspent Transaction Output (UTXO). Allows modification of wallet association, transaction ID, output index, amount, script, and operational status. Used to maintain accurate UTXO records for blockchain transaction management.",logModule:"ADMIN_ECO",logTitle:"Update UTXO",parameters:[{index:0,name:"id",in:"path",description:"Unique identifier of the UTXO to update",required:!0,schema:{type:"string"}}],requestBody:{description:"Updated UTXO data including wallet ID, transaction ID, index, amount, script, and status",content:{"application/json":{schema:utils_1.ecosystemUtxoUpdateSchema}}},responses:(0,query_1.updateRecordResponses)("Ecosystem UTXO"),requiresAuth:!0,permission:"edit.ecosystem.utxo"};exports.default=async t=>{const{body:e,params:s,ctx:a}=t,{id:o}=s,{walletId:i,transactionId:n,index:r,amount:d,script:c,status:u}=e;null==a||a.step("Updating UTXO record");const p=await(0,query_1.updateRecord)("ecosystemUtxo",o,{walletId:i,transactionId:n,index:r,amount:d,script:c,status:u});null==a||a.success("UTXO updated successfully");return p};