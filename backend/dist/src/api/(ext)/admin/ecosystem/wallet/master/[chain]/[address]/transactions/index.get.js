"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getTransactionsController=exports.metadata=void 0;const transactions_1=require("@b/api/(ext)/ecosystem/utils/transactions"),error_1=require("@b/utils/error"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Get master wallet transactions",description:"Retrieves the transaction history for a specific master wallet address on a given blockchain. Returns transaction details including sender, receiver, amount, and timestamp.",operationId:"getMasterWalletTransactions",tags:["Admin","Ecosystem","Wallet"],parameters:[{name:"chain",in:"path",required:!0,schema:{type:"string",description:"Blockchain chain identifier"}},{name:"address",in:"path",required:!0,schema:{type:"string",description:"Blockchain address"}}],responses:{200:{description:"Transactions retrieved successfully",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{txid:{type:"string",description:"Transaction ID"},from:{type:"string",description:"Sender address"},to:{type:"string",description:"Receiver address"},amount:{type:"number",description:"Amount transferred"},timestamp:{type:"number",description:"Timestamp of the transaction"}}}}}}},401:errors_1.unauthorizedResponse,500:errors_1.serverErrorResponse},permission:"view.ecosystem.master.wallet"};const getTransactionsController=async e=>{const{params:t,ctx:r}=e;null==r||r.step("Fetching master wallet transactions");try{const{chain:e,address:r}=t;return await(0,transactions_1.fetchEcosystemTransactions)(e,r)}catch(e){throw(0,error_1.createError)({statusCode:500,message:`Failed to fetch transactions: ${e.message}`})}};exports.getTransactionsController=getTransactionsController;