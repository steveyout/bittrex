"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PerlinNoise=void 0;class PerlinNoise{constructor(e){this.permutation=this.generatePermutation(e)}generatePermutation(e){const t=[];for(let e=0;e<256;e++)t[e]=e;let r=void 0!==e?this.seededRandom(e):Math.random;for(let e=255;e>0;e--){const o=Math.floor(r()*(e+1));[t[e],t[o]]=[t[o],t[e]]}return[...t,...t]}seededRandom(e){let t=e;return()=>{t=1103515245*t+12345&2147483647;return t/2147483647}}fade(e){return e*e*e*(e*(6*e-15)+10)}lerp(e,t,r){return e+r*(t-e)}grad(e,t){const r=15&e,o=1+(7&r);return 8&r?-o*t:o*t}noise(e){const t=255&Math.floor(e),r=e-Math.floor(e),o=this.fade(r),s=this.permutation[t],i=this.permutation[t+1],n=this.grad(s,r),a=this.grad(i,r-1);return.5*this.lerp(n,a,o)}octaveNoise(e,t=4,r=.5){let o=0,s=1,i=1,n=0;for(let a=0;a<t;a++){o+=this.noise(e*s)*i;n+=i;i*=r;s*=2}return o/n}turbulence(e,t=4,r=.5){let o=0,s=1,i=1,n=0;for(let a=0;a<t;a++){o+=Math.abs(this.noise(e*s))*i;n+=i;i*=r;s*=2}return o/n}ridgedNoise(e,t=4,r=.5){let o=0,s=1,i=1,n=0,a=1;for(let l=0;l<t;l++){const t=1-Math.abs(this.noise(e*s)),l=t*t*a;a=t;o+=l*i;n+=i;i*=r;s*=2}return o/n}warpedNoise(e,t=.5){const r=this.noise(e+100)*t;return this.noise(e+r)}reseed(e){this.permutation=this.generatePermutation(e)}}exports.PerlinNoise=PerlinNoise;exports.default=PerlinNoise;