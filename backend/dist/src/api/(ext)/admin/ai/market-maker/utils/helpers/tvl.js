"use strict";function calculateTVL(e){const a=parseFloat(String(e.baseBalance))||0,t=parseFloat(String(e.quoteBalance))||0,c=parseFloat(String(e.currentPrice))||0;(a<0||t<0)&&console_1.logger.warn("AI_MM","Negative balance detected, using absolute values");const l=Math.abs(a),r=Math.abs(t);if(c<=0){console_1.logger.warn("AI_MM","Invalid or zero price, returning sum of balances");return l+r}return l*c+r}function calculateTVLWithBreakdown(e){const a=parseFloat(String(e.baseBalance))||0,t=parseFloat(String(e.quoteBalance))||0,c=parseFloat(String(e.currentPrice))||0,l=Math.abs(a),r=Math.abs(t),n=c>0?l*c:l;return{tvl:n+r,baseValue:n,quoteValue:r,baseBalance:l,quoteBalance:r}}function calculatePnLFromTVL(e,a,t,c,l,r){const n=calculateTVL({baseBalance:e,quoteBalance:a,currentPrice:l}),o=calculateTVL({baseBalance:t,quoteBalance:c,currentPrice:r}),u=o-n;return{initialTVL:n,currentTVL:o,absolutePnL:u,percentageReturn:n>0?u/n*100:0}}Object.defineProperty(exports,"__esModule",{value:!0});exports.calculateTVL=calculateTVL;exports.calculateTVLWithBreakdown=calculateTVLWithBreakdown;exports.calculatePnLFromTVL=calculatePnLFromTVL;const console_1=require("@b/utils/console");exports.default={calculateTVL:calculateTVL,calculateTVLWithBreakdown:calculateTVLWithBreakdown,calculatePnLFromTVL:calculatePnLFromTVL};