"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ScalperBot=void 0;const BaseBot_1=require("../BaseBot");class ScalperBot extends BaseBot_1.BaseBot{constructor(e){super({...e,personality:"SCALPER",tradeFrequency:"HIGH"});this.minSpreadBps=5;this.maxSpreadBps=20;this.targetProfitBps=3}decideTrade(e){if(!this.canTrade())return{shouldTrade:!1,reason:"Cannot trade"};const r=Number(e.currentPrice)/1e18,t=Number(e.targetPrice)/1e18;if(e.spreadBps>this.maxSpreadBps)return{shouldTrade:!1,reason:`Spread too wide: ${e.spreadBps}bps`};if(e.volatility>3)return{shouldTrade:!1,reason:`Volatility too high: ${e.volatility}%`};const a=(t-r)/r>0?"BUY":"SELL",o=this.calculatePrice(e,a),s=this.calculateOrderSize(e);return Math.random()>.6?{shouldTrade:!1,reason:"Random skip for unpredictability"}:{shouldTrade:!0,side:a,price:o,amount:s,purpose:"SPREAD_MAINTENANCE",confidence:.7+.2*Math.random(),reason:`Scalping ${a} for micro profit`}}calculateOrderSize(e){const r=.5*this.config.avgOrderSize,t=this.addVariance(r,.4);return BigInt(Math.floor(1e18*t))}calculatePrice(e,r){const t=Number(e.currentPrice)/1e18,a=this.targetProfitBps/1e4*(.5+.5*Math.random());let o;o="BUY"===r?t*(1-a):t*(1+a);return BigInt(Math.floor(1e18*o))}getCooldownTime(){return 1e4}}exports.ScalperBot=ScalperBot;exports.default=ScalperBot;