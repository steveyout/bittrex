"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query"),utils_1=require("./utils");exports.metadata={summary:"Creates a new Forex account",operationId:"storeForexAccount",tags:["Admin","Forex","Account"],description:"Creates a new Forex account for a user with specified broker, MetaTrader version, balance, leverage, and account type (DEMO/LIVE).",requestBody:{required:!0,content:{"application/json":{schema:utils_1.forexAccountUpdateSchema}}},responses:(0,query_1.storeRecordResponses)(utils_1.forexAccountStoreSchema,"Forex Account"),requiresAuth:!0,permission:"create.forex.account",logModule:"ADMIN_FOREX",logTitle:"Create forex account"};exports.default=async e=>{const{body:t,ctx:r}=e,{userId:o,accountId:a,password:c,broker:s,mt:u,balance:n,leverage:d,type:i,status:l}=t;null==r||r.step("Validating forex account data");null==r||r.step("Creating forex account");const p=await(0,query_1.storeRecord)({model:"forexAccount",data:{userId:o,accountId:a,password:c,broker:s,mt:u,balance:n,leverage:d,type:i,status:l}});null==r||r.success("Forex account created successfully");return p};