"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const query_1=require("@b/utils/query");exports.metadata={summary:"Deletes a specific ecommerce discount by ID",operationId:"deleteEcommerceDiscountById",description:"Permanently deletes a single ecommerce discount record by its unique identifier. This will remove the discount code and all associated relationships. Any customers who have used this discount will retain their historical usage records.",tags:["Admin","Ecommerce","Discount"],parameters:(0,query_1.deleteRecordParams)("E-commerce discount"),responses:(0,query_1.deleteRecordResponses)("E-commerce discount"),permission:"delete.ecommerce.discount",requiresAuth:!0,logModule:"ADMIN_ECOM",logTitle:"Delete discount"};exports.default=async e=>{const{params:s,query:t,ctx:i}=e;null==i||i.step("Validating discount ID");null==i||i.step(`Deleting discount: ${s.id}`);const o=await(0,query_1.handleSingleDelete)({model:"ecommerceDiscount",id:s.id,query:t});null==i||i.success("Discount deleted successfully");return o};