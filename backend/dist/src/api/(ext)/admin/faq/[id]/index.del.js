"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.metadata=void 0;const db_1=require("@b/db"),error_1=require("@b/utils/error"),errors_1=require("@b/utils/schema/errors");exports.metadata={summary:"Delete Single FAQ",description:"Deletes a specific FAQ entry by ID. This is a soft delete operation that marks the FAQ as deleted.",operationId:"deleteFaq",tags:["Admin","FAQ","Delete"],requiresAuth:!0,parameters:[{index:0,name:"id",in:"path",required:!0,schema:{type:"string",format:"uuid"},description:"FAQ ID to delete"}],responses:{200:(0,errors_1.successMessageResponse)("FAQ deleted successfully"),401:errors_1.unauthorizedResponse,404:(0,errors_1.notFoundResponse)("FAQ"),500:errors_1.serverErrorResponse},permission:"delete.faq",logModule:"ADMIN_FAQ",logTitle:"Delete FAQ entry"};exports.default=async e=>{const{user:r,params:s,ctx:t}=e;if(!(null==r?void 0:r.id))throw(0,error_1.createError)({statusCode:401,message:"Unauthorized"});null==t||t.step("Fetching FAQ");const o=await db_1.models.faq.findByPk(s.id);if(!o){null==t||t.fail("FAQ not found");throw(0,error_1.createError)({statusCode:404,message:"FAQ not found"})}null==t||t.step("Deleting FAQ");await o.destroy();null==t||t.success("FAQ deleted successfully");return{message:"FAQ deleted successfully"}};